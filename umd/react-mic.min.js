/*!
 * react-mic v12.2.2
 * MIT Licensed
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["react-mic"]=e(require("react")):t["react-mic"]=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3);e.default=o.a},function(t,e,n){function o(t){var e=t.toString().replace(/^function\s*\(\)\s*{/,"").replace(/}$/,""),n=new Blob([e]);return new Worker(URL.createObjectURL(n))}function i(t){this.stream=t,this.state="inactive",this.em=document.createDocumentFragment(),this.encoder=o(i.encoder);var e=this;this.encoder.addEventListener("message",function(t){var n=new Event("dataavailable");n.data=new Blob([t.data],{type:e.mimeType}),e.em.dispatchEvent(n),"inactive"===e.state&&e.em.dispatchEvent(new Event("stop"))})}var r,a=window.AudioContext||window.webkitAudioContext;i.prototype={mimeType:"audio/wav",start:function(t){if("inactive"===this.state){this.state="recording",r||(r=new a);var e=r.createMediaStreamSource(this.stream),n=r.createScriptProcessor(2048,1,1),o=this;n.onaudioprocess=function(t){"recording"===o.state&&o.encoder.postMessage(["encode",t.inputBuffer.getChannelData(0)])},e.connect(n),n.connect(r.destination),this.em.dispatchEvent(new Event("start")),t&&(this.slicing=setInterval(function(){"recording"===o.state&&o.requestData()},t))}},stop:function(){"inactive"!==this.state&&(this.requestData(),this.state="inactive",clearInterval(this.slicing))},pause:function(){"recording"===this.state&&(this.state="paused",this.em.dispatchEvent(new Event("pause")))},resume:function(){"paused"===this.state&&(this.state="recording",this.em.dispatchEvent(new Event("resume")))},requestData:function(){"inactive"!==this.state&&this.encoder.postMessage(["dump",r.sampleRate])},addEventListener:function(){this.em.addEventListener.apply(this.em,arguments)},removeEventListener:function(){this.em.removeEventListener.apply(this.em,arguments)},dispatchEvent:function(){this.em.dispatchEvent.apply(this.em,arguments)}},i.isTypeSupported=function(t){return/audio\/wave?/.test(t)},i.notSupported=!navigator.mediaDevices||!a,i.encoder=n(2),t.exports=i},function(t,e){t.exports=function(){function t(t){for(var e=t.length,i=new Uint8Array(e*n),r=0;r<e;r++){var a=r*n,s=t[r];s>1?s=1:s<-1&&(s=-1),s*=32768,i[a]=s,i[a+1]=s>>8}o.push(i)}function e(t){var e=o.length?o[0].length:0,i=o.length*e,r=new Uint8Array(44+i),a=new DataView(r.buffer);a.setUint32(0,1380533830,!1),a.setUint32(4,36+i,!0),a.setUint32(8,1463899717,!1),a.setUint32(12,1718449184,!1),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,1,!0),a.setUint32(24,t,!0),a.setUint32(28,t*n,!0),a.setUint16(32,n,!0),a.setUint16(34,8*n,!0),a.setUint32(36,1684108385,!1),a.setUint32(40,i,!0);for(var s=0;s<o.length;s++)r.set(o[s],s*e+44);o=[],postMessage(r.buffer,[r.buffer])}var n=2,o=[];onmessage=function(n){"encode"===n.data[0]?t(n.data[1]):e(n.data[1])}}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),c=n(6),u=n(5);n.d(e,"a",function(){return d});var d=function(t){function e(n){o(this,e);var r=i(this,t.call(this,n));return r.state={microphoneRecorder:null},r}return r(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.onSave,n=t.onStop,o=t.onStart,i=t.onData,r=t.audioElem,a=t.audioBitsPerSecond,s=t.mimeType,d={audioBitsPerSecond:a,mimeType:s};r?u.a.create(r):this.setState({microphoneRecorder:new c.a(o,n,e,i,d)})},e.prototype.render=function(){var t=this.props,e=t.record,n=t.onStop,o=t.children,i=this.state.microphoneRecorder;return i&&(e?i.startRecording():i.stopRecording(n)),s.a.createElement(s.a.Fragment,null,o)},e}(a.Component);d.defaultProps={className:"record",audioBitsPerSecond:128e3,mimeType:"audio/webm;codecs=opus",record:!1}},function(t,e,n){"use strict";var o=new(window.AudioContext||window.webkitAudioContext),i=o.createAnalyser(),r={getAudioContext:function(){return o},getAnalyser:function(){return i}};e.a=r},function(t,e,n){"use strict";var o=n(4),i=void 0,r={create:function(t){var e=o.a.getAudioContext(),n=o.a.getAnalyser();if(void 0===i){var r=e.createMediaElementSource(t);r.connect(n),i=r}n.connect(e.destination)}};e.a=r},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i);n.d(e,"a",function(){return h});var a=void 0,s=[],c=void 0,u=void 0,d=void 0,p=void 0,f=void 0,v=void 0,l={audio:!0};navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var h=function t(e,n,i,h,m){var w=this;o(this,t),this.startRecording=function(){c=Date.now(),s=[],a=null,navigator.mediaDevices?navigator.mediaDevices.getUserMedia(l).then(function(t){a=new r.a(t),d&&d(),a.addEventListener("dataavailable",function(t){s=t.data,v&&v(t.data)}),a.start(),a.addEventListener("stop",w.onStop)}):alert("Your browser does not support audio recording")},this.stopRecording=function(){a&&(a.stop(),a.stream.getTracks()[0].stop(),a.stream.getTracks().forEach(function(t){return t.stop()}))},this.onStop=function(){var t={blob:s,startTime:c,stopTime:window.Date.now(),options:u,blobURL:window.URL.createObjectURL(s)};p&&p(t),f&&f(t)},d=e,p=n,f=i,v=h,u=m}},function(e,n){e.exports=t},function(t,e,n){t.exports=n(0)}])});
//# sourceMappingURL=react-mic.min.js.map