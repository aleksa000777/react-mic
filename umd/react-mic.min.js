/*!
 * react-mic v12.2.2
 * MIT Licensed
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["react-mic"]=e(require("react")):t["react-mic"]=e(t.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=13)}([function(t,e,n){"use strict";var r=new(window.AudioContext||window.webkitAudioContext),o=r.createAnalyser(),i={getAudioContext:function(){return r},getAnalyser:function(){return o}};e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);n.d(e,"ReactMic",function(){return r.a})},function(t,e,n){function r(t){var e=t.toString().replace(/^function\s*\(\)\s*{/,"").replace(/}$/,""),n=new Blob([e]);return new Worker(URL.createObjectURL(n))}function o(t){this.stream=t,this.state="inactive",this.em=document.createDocumentFragment(),this.encoder=r(o.encoder);var e=this;this.encoder.addEventListener("message",function(t){var n=new Event("dataavailable");n.data=new Blob([t.data],{type:e.mimeType}),e.em.dispatchEvent(n),"inactive"===e.state&&e.em.dispatchEvent(new Event("stop"))})}var i,a=window.AudioContext||window.webkitAudioContext;o.prototype={mimeType:"audio/wav",start:function(t){if("inactive"===this.state){this.state="recording",i||(i=new a);var e=i.createMediaStreamSource(this.stream),n=i.createScriptProcessor(2048,1,1),r=this;n.onaudioprocess=function(t){"recording"===r.state&&r.encoder.postMessage(["encode",t.inputBuffer.getChannelData(0)])},e.connect(n),n.connect(i.destination),this.em.dispatchEvent(new Event("start")),t&&(this.slicing=setInterval(function(){"recording"===r.state&&r.requestData()},t))}},stop:function(){"inactive"!==this.state&&(this.requestData(),this.state="inactive",clearInterval(this.slicing))},pause:function(){"recording"===this.state&&(this.state="paused",this.em.dispatchEvent(new Event("pause")))},resume:function(){"paused"===this.state&&(this.state="recording",this.em.dispatchEvent(new Event("resume")))},requestData:function(){"inactive"!==this.state&&this.encoder.postMessage(["dump",i.sampleRate])},addEventListener:function(){this.em.addEventListener.apply(this.em,arguments)},removeEventListener:function(){this.em.removeEventListener.apply(this.em,arguments)},dispatchEvent:function(){this.em.dispatchEvent.apply(this.em,arguments)}},o.isTypeSupported=function(t){return/audio\/wave?/.test(t)},o.notSupported=!navigator.mediaDevices||!a,o.encoder=n(3),t.exports=o},function(t,e){t.exports=function(){function t(t){for(var e=t.length,o=new Uint8Array(e*n),i=0;i<e;i++){var a=i*n,s=t[i];s>1?s=1:s<-1&&(s=-1),s*=32768,o[a]=s,o[a+1]=s>>8}r.push(o)}function e(t){var e=r.length?r[0].length:0,o=r.length*e,i=new Uint8Array(44+o),a=new DataView(i.buffer);a.setUint32(0,1380533830,!1),a.setUint32(4,36+o,!0),a.setUint32(8,1463899717,!1),a.setUint32(12,1718449184,!1),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,1,!0),a.setUint32(24,t,!0),a.setUint32(28,t*n,!0),a.setUint16(32,n,!0),a.setUint16(34,8*n,!0),a.setUint32(36,1684108385,!1),a.setUint32(40,o,!0);for(var s=0;s<r.length;s++)i.set(r[s],s*e+44);r=[],postMessage(i.buffer,[i.buffer])}var n=2,r=[];onmessage=function(n){"encode"===n.data[0]?t(n.data[1]):e(n.data[1])}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(12),s=n.n(a),c=n(10),u=(n.n(c),n(6)),p=(n(0),n(5));n.d(e,"a",function(){return d});var d=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.state={microphoneRecorder:null},i}return i(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.onSave,n=t.onStop,r=t.onStart,o=t.onData,i=t.audioElem,a=t.audioBitsPerSecond,s=t.mimeType,c={audioBitsPerSecond:a,mimeType:s};i?p.a.create(i):this.setState({microphoneRecorder:new u.a(r,n,e,o,c)})},e.prototype.render=function(){var t=this.props,e=t.record,n=t.onStop,r=(t.width,t.height,t.children),o=this.state.microphoneRecorder;return e?o&&o.startRecording():o&&o.stopRecording(n),s.a.createElement(s.a.Fragment,null,r)},e}(a.Component);d.defaultProps={className:"record",audioBitsPerSecond:128e3,mimeType:"audio/webm;codecs=opus",record:!1}},function(t,e,n){"use strict";var r=n(0),o=void 0,i={create:function(t){var e=r.a.getAudioContext(),n=r.a.getAnalyser();if(void 0===o){var i=e.createMediaElementSource(t);i.connect(n),o=i}n.connect(e.destination)}};e.a=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=(n(0),n(2)),i=n.n(o);n.d(e,"a",function(){return w});var a=void 0,s=void 0,c=void 0,u=[],p=void 0,d=void 0,f=void 0,l=void 0,v=void 0,h=void 0,m=void 0,g=void 0,y={audio:!0};navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var w=function(){function t(e,n,o,w,b){var E=this;r(this,t),this.startRecording=function(){p=Date.now(),a=null,s=null,u=[],d=null,l=null,c=null,navigator.mediaDevices?navigator.mediaDevices.getUserMedia(y).then(function(t){d=t,c=new i.a(t),v&&v(),c.addEventListener("dataavailable",function(t){u=t.data,g&&g(t.data)}),c.start(),c.addEventListener("stop",E.onStop)}):alert("Your browser does not support audio recording")},v=e,h=n,m=o,g=w,f=b}return t.prototype.stopRecording=function(){c&&(c.stop(),c.stream.getTracks()[0].stop(),c.stream.getTracks().forEach(function(t){return t.stop()}))},t.prototype.onStop=function(){var t={blob:u,startTime:p,stopTime:window.Date.now(),options:f,blobURL:window.URL.createObjectURL(u)};h&&h(t),m&&m(t)},t}()},function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,c){if(o(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,r,i,a,s,c],d=0;u=new Error(e.replace(/%s/g,function(){return p[d++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var o=function(t){};t.exports=r},function(t,e,n){"use strict";var r=n(7),o=n(8),i=n(11);t.exports=function(){function t(t,e,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){t.exports=n(9)()},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n){e.exports=t},function(t,e,n){t.exports=n(1)}])});
//# sourceMappingURL=react-mic.min.js.map